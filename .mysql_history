show databases;
create database wmanion;
create database wmanion4870;
create database wmanion;
create database 19866310;
create database myDatabase;
create database wmanion;
CREATE DATABASE wmanion;
create database wmanion;
show databases
;
select database();
use wmanion;
create table Experimenter(ExpterID INTEGER, Name CHAR(20) NOT NULL, Email CHAR(20) NOT NULL, Dept CHAR(20) NOT NULL, Institution CHAR(20) NOT NULL, PRIMARY KEY (ExpterID));
INSERT INTO Experimenter VALUES(3721, 'Gates', 'bgates', 'CS', 'UNO');
SELECT * FROM Experimenter
;
show tables;
desc experimenter;
desc Experimenter;
drop table Experimenter
;
select database;
select database();
use wmanion
drop table experimenter
;
drop table Experimenter;
CREATE TABLE Experimenter(
ExperimenterID int not null, 
Name varchar(100), 
Email varchar(100), 
Dept varchar(100), 
Institution varchar(100), 
CONSTRAINT Expter_pk PRIMARY KEY (ExperimenterID));
CREATE TABLE Experimenter( ExperimenterID int not null,  Name varchar(100),  Email varchar(100),  Dept varchar(100),  Institution varchar(100),  CONSTRAINT Expter_pk PRIMARY KEY (ExperimenterID));
display tables;
show tables;
CREATE TABLE Experiment(
EID varchar(50) not null, 
Image varchar(50), 
ExperimentDate date, 
CONSTRAINT Experimenter_pk PRIMARY KEY (EID));
CREATE TABLE Experiment( EID varchar(50) not null,  Image varchar(50),  ExperimentDate date,  CONSTRAINT Experimenter_pk PRIMARY KEY (EID));
CREATE TABLE Gene(
GID varchar(50) not null, 
Sequence varchar(500), 
CONSTRAINT Gene_pk PRIMARY KEY (GID));
CREATE TABLE Gene( GID varchar(50) not null,  Sequence varchar(500),  CONSTRAINT Gene_pk PRIMARY KEY (GID));
CREATE TABLE Sample(
SID varchar(50) not null, 
Organism varchar(100), 
CellType varchar(50), 
CONSTRAINT Sample_pk PRIMARY KEY (SID));
CREATE TABLE Sample( SID varchar(50) not null,  Organism varchar(100),  CellType varchar(50),  CONSTRAINT Sample_pk PRIMARY KEY (SID));
CREATE TABLE SampleDrug(
SID varchar(50) not null, 
DrugID varchar(50) not null, 
CONSTRAINT SampleDrug_pk PRIMARY KEY (SID, DrugID));
CREATE TABLE SampleDrug( SID varchar(50) not null,  DrugID varchar(50) not null,  CONSTRAINT SampleDrug_pk PRIMARY KEY (SID, DrugID));
CREATE TABLE Array(
AID varchar(50) not null, 
Batch varchar(50), 
Type varchar(50), 
Manufacturer varchar(50), 
CONSTRAINT Array_pk PRIMARY KEY (AID));
CREATE TABLE Array( AID varchar(50) not null,  Batch varchar(50),  Type varchar(50),  Manufacturer varchar(50),  CONSTRAINT Array_pk PRIMARY KEY (AID));
CREATE TABLE ExperimentExperimenter(
EID varchar(50) not null, 
ExperimenterID int not null, 
CONSTRAINT fk_Experiment FOREIGN KEY (EID) REFERENCES Experiment(EID),
CONSTRAINT fk_Experimenter FOREIGN KEY (ExperimenterID) REFERENCES Experimenter(ExperimenterID), 
CONSTRAINT ExpExpter_pk PRIMARY KEY (EID, ExperimenterID));
CREATE TABLE ExperimentExperimenter( EID varchar(50) not null,  ExperimenterID int not null,  CONSTRAINT fk_Experiment FOREIGN KEY (EID) REFERENCES Experiment(EID), CONSTRAINT fk_Experimenter FOREIGN KEY (ExperimenterID) REFERENCES Experimenter(ExperimenterID),  CONSTRAINT ExpExpter_pk PRIMARY KEY (EID, ExperimenterID));
CREATE TABLE ExpressionValue(
EID varchar(50) not null, 
GID varchar(50) not null, 
Value varchar(50), 
CONSTRAINT fk_ExperimentExpressionValue FOREIGN KEY (EID) REFERENCES Experiment(EID), 
CONSTRAINT fk_Gene FOREIGN KEY (GID) REFERENCES Gene(GID), 
CONSTRAINT ExpressionValue_pk PRIMARY KEY (EID, GID));
CREATE TABLE ExpressionValue( EID varchar(50) not null,  GID varchar(50) not null,  Value varchar(50),  CONSTRAINT fk_ExperimentExpressionValue FOREIGN KEY (EID) REFERENCES Experiment(EID),  CONSTRAINT fk_Gene FOREIGN KEY (GID) REFERENCES Gene(GID),  CONSTRAINT ExpressionValue_pk PRIMARY KEY (EID, GID));
CREATE TABLE ExptSample(
EID varchar(50) not null, 
SID varchar(50) not null, 
CONSTRAINT fk_ExperimentExptSample FOREIGN KEY (EID) REFERENCES Experiment(EID), 
CONSTRAINT fk_SID FOREIGN KEY (SID) REFERENCES Sample(SID), 
CONSTRAINT ExptSample_pk PRIMARY KEY (EID, SID));
CREATE TABLE ExptSample( EID varchar(50) not null,  SID varchar(50) not null,  CONSTRAINT fk_ExperimentExptSample FOREIGN KEY (EID) REFERENCES Experiment(EID),  CONSTRAINT fk_SID FOREIGN KEY (SID) REFERENCES Sample(SID),  CONSTRAINT ExptSample_pk PRIMARY KEY (EID, SID));
CREATE TABLE ExptArray(
EID varchar(50) not null, 
AID varchar(50) not null, 
CONSTRAINT fk_EIDExprArray FOREIGN KEY (EID) REFERENCES Experiment(EID),
CONSTRAINT fk_Array FOREIGN KEY (AID) REFERENCES Array(AID), 
CONSTRAINT ExptArray_pk PRIMARY KEY (EID, AID));
CREATE TABLE ExptArray( EID varchar(50) not null,  AID varchar(50) not null,  CONSTRAINT fk_EIDExprArray FOREIGN KEY (EID) REFERENCES Experiment(EID), CONSTRAINT fk_Array FOREIGN KEY (AID) REFERENCES Array(AID),  CONSTRAINT ExptArray_pk PRIMARY KEY (EID, AID));
display tables;
show tables;
Loki_create_db
;
Loki_create_db;
alter role wmanion password
;
alter role wmanion password;
alter role wmanion jigaloo109 password;
set password for 'wmanion'@localhost' = password('password');
;
set password for 'wmanion'@localhost' = password('password')
SET PASSWORD FOR 'wmanion'@localhost' = PASSWORD('password123')
;
;;;
exit
SET PASSWORD FOR 'wmanion'@'localhost' = PASSWORD('newpass');
show tables
;
use wmanion;
show tables;
display Experimenter
;
INSERT INTO Experimenter(ExperimenterID, Name, Email, Dept, Institution) 
VALUES (4329, 'Williams', 'jwilliams', 'Biology', 'UNO');
INSERT INTO Experimenter(ExperimenterID, Name, Email, Dept, Institution)  VALUES (4329, 'Williams', 'jwilliams', 'Biology', 'UNO');
INSERT INTO Experimenter(ExperimenterID, Name, Email, Dept, Institution) VALUES (1234, 'Manion', 'wmanion', 'Bioinformatics', 'UNO');
INSERT INTO Experimenter(ExperimenterID, Name, Email, Dept, Institution) VALUES (2013, 'Struble', 'vstruble', 'Biology', 'MCC');
INSERT INTO Experimenter(ExperimenterID, Name, Email, Dept, Institution) VALUES (4718, 'Weathers', 'carlWeathers', 'Forensics', 'OPD');
INSERT INTO Experiment(EID, Image, ExperimentDate) VALUES ('E01', 'I1024', '15-Sep-03');
INSERT INTO Experiment(EID, Image, ExperimentDate) VALUES ('E02', 'I2048', '10-Feb-15');
INSERT INTO Experiment(EID, Image, ExperimentDate) VALUES ('E03', 'I4096', '11-Feb-15');
INSERT INTO Experiment(EID, Image, ExperimentDate) VALUES ('E99', 'I0001', '15-Sep-06');
INSERT INTO Experiment(EID, Image, ExperimentDate) VALUES ('E98', 'I0002', '15-Sep-06');
INSERT INTO Experiment(EID, Image, ExperimentDate) VALUES ('E97', 'I0003', '15-Sep-06');
INSERT INTO Gene(GID, Sequence) VALUES ('G01', 'AGGCC');
INSERT INTO Gene(GID, Sequence) VALUES ('G02', 'ACGT');
INSERT INTO Gene(GID, Sequence) VALUES ('G03', 'GGGG');
INSERT INTO Gene(GID, Sequence) VALUES ('G04', 'TTTT');
INSERT INTO Gene(GID, Sequence) VALUES ('G05', 'AAAA');
INSERT INTO Gene(GID, Sequence) VALUES ('G06', 'CAAT');
INSERT INTO Sample(SID, Organism, CellType) VALUES ('S01', 'O05', 'C02');
INSERT INTO Sample(SID, Organism, CellType) VALUES ('S02', 'O05', 'C02');
INSERT INTO Sample(SID, Organism, CellType) VALUES ('S03', 'O10', 'C02');
INSERT INTO Sample(SID, Organism, CellType) VALUES ('S05', 'O13', 'C03');
INSERT INTO SampleDrug(SID, DrugID) VALUES ('S01', 'D01');
INSERT INTO SampleDrug(SID, DrugID) VALUES ('S02', 'D01');
INSERT INTO SampleDrug(SID, DrugID) VALUES ('S03', 'D02');
INSERT INTO Array(AID, Batch, Type, Manufacturer) VALUES ('A01', 'B1', 'T1', 'M1');
INSERT INTO Array(AID, Batch, Type, Manufacturer) VALUES ('A02', 'B1', 'T2', 'M1');
INSERT INTO Array(AID, Batch, Type, Manufacturer) VALUES ('A03', 'B3', 'T3', 'M1');
INSERT INTO ExperimentExperimenter(EID, ExperimenterID) VALUES ('E03', '4329');
INSERT INTO ExperimentExperimenter(EID, ExperimenterID) VALUES ('E02', '1234');
INSERT INTO ExperimentExperimenter(EID, ExperimenterID) VALUES ('E01', '2013');
INSERT INTO ExperimentExperimenter(EID, ExperimenterID) VALUES ('E03', '4718');
INSERT INTO ExperimentExperimenter(EID, ExperimenterID) VALUES ('E99', '4329');
INSERT INTO ExperimentExperimenter(EID, ExperimenterID) VALUES ('E99', '4718');
INSERT INTO ExpressionValue(EID, GID, Value) VALUES ('E02', 'G03', 'V1');
INSERT INTO ExpressionValue(EID, GID, Value) VALUES ('E01', 'G02', 'V33');
INSERT INTO ExpressionValue(EID, GID, Value) VALUES ('E02', 'G01', 'V57');
INSERT INTO ExpressionValue(EID, GID, Value) VALUES ('E99', 'G04', 'V23');
INSERT INTO ExpressionValue(EID, GID, Value) VALUES ('E98', 'G05', 'V47');
INSERT INTO ExpressionValue(EID, GID, Value) VALUES ('E97', 'G06', 'V99');
INSERT INTO ExptSample(EID, SID) VALUES ('E02', 'S02');
INSERT INTO ExptSample(EID, SID) VALUES ('E02', 'S03');
INSERT INTO ExptSample(EID, SID) VALUES ('E03', 'S05');
INSERT INTO ExptSample(EID, SID) VALUES ('E01', 'S02');
INSERT INTO ExptSample(EID, SID) VALUES ('E02', 'S01');
INSERT INTO ExptArray(EID, AID) VALUES ('E03', 'A01');
INSERT INTO ExptArray(EID, AID) VALUES ('E02', 'A03');
INSERT INTO ExptArray(EID, AID) VALUES ('E01', 'A02');
INSERT INTO ExptArray(EID, AID) VALUES ('E99', 'A01');
SELECT DISTINCT Gene.GID FROM ExpressionValue, Experiment, Gene WHERE (Gene.GID = ExpressionValue.GID AND Experiment.EID = ExpressionValue.EID AND ExperimentDate = '15-Sep-06');
SELECT DISTINCT Gene.GID FROM ExpressionValue, Experiment, Gene WHERE (Gene.GID = ExpressionValue.GID AND Experiment.EID = ExpressionValue.EID);
select * from Gene;
SELECT DISTINCT Gene.GID FROM ExpressionValue, Experiment, Gene WHERE (Gene.GID = ExpressionValue.GID AND Experiment.EID = ExpressionValue.EID AND ExperimentDate = '15-Sep-06');
SELECT DISTINCT Gene.GID FROM ExpressionValue, Experiment, Gene WHERE (Gene.GID = ExpressionValue.GID AND Experiment.EID = ExpressionValue.EID AND Experiment.ExperimentDate = '15-Sep-06');
select * from Experiment
;
drop * from Experiment;
update Experiment SET ExperimentDate = '2006-09-15' where EID = 'E01';
drop * from Experiment;
select * from Experiment
;
update Experiment SET ExperimentDate = '2003-09-15' where EID = 'E01';
update Experiment SET ExperimentDate = '2015-02-10' where EID = 'E02';
update Experiment SET ExperimentDate = '2015-02-11' where EID = 'E03';
update Experiment SET ExperimentDate = '2006-09-06' where EID = 'E04';
update Experiment SET ExperimentDate = '2006-09-15' where EID = 'E99';
update Experiment SET ExperimentDate = '2006-09-15' where EID = 'E98';
update Experiment SET ExperimentDate = '2006-09-15' where EID = 'E97';
select * from Experiment;
SELECT DISTINCT Experiment.Image FROM Experiment, ExperimentExperimenter, Experimenter WHERE (Experiment.EID = ExperimentExperimenter.EID AND ExperimentExperimenter.ExperimenterID = Experimenter.ExperimenterID AND Experimenter.ExperimenterID = 4718);
SELECT DISTINCT SampleDrug.DrugID FROM SampleDrug, Sample, ExptSample, Experiment WHERE (SampleDrug.SID = Sample.SID AND Sample.SID = ExptSample.SID AND ExptSample.EID = Experiment.EID AND Experiment.EID = 'E01');
SELECT DISTINCT Gene.GID FROM ExpressionValue, Experiment,Gene WHERE (Gene.GID = ExpressionValue.GID AND Experiment.EID = ExpressionValue.EID AND ExperimentDate = '15-Sep-06');
SELECT DISTINCT Gene.GID FROM ExpressionValue, Experiment,Gene WHERE (Gene.GID = ExpressionValue.GID AND Experiment.EID = ExpressionValue.EID AND ExperimentDate = '2006-09-15');
SELECT DISTINCT Array.Type FROM Array, ExptArray, Experiment, ExptSample, Sample WHERE (Sample.SID = ExptSample.SID AND ExptSample.EID = Experiment.EID AND Experiment.EID = ExptArray.EID AND ExptArray.AID = Array.AID AND Sample.SID = 'S01');
SELECT Experimenter.Institution, COUNT(Sample.CellType) FROM Sample, ExptSample, Experiment, ExperimentExperimenter, Experimenter WHERE (Sample.SID = ExptSample.SID AND ExptSample.EID = Experiment.EID AND 
Experiment.EID = ExperimentExperimenter.EID AND ExperimentExperimenter.ExperimenterID = Experimenter.ExperimenterID) GROUP BY Experimenter.Institution;
SELECT Experimenter.Institution, COUNT(Sample.CellType) FROM Sample, ExptSample, Experiment, ExperimentExperimenter, Experimenter WHERE (Sample.SID = ExptSample.SID AND ExptSample.EID = Experiment.EID AND  Experiment.EID = ExperimentExperimenter.EID AND ExperimentExperimenter.ExperimenterID = Experimenter.ExperimenterID) GROUP BY Experimenter.Institution;
SELECT DISTINCT Array.Manufacturer FROM Array, ExptArray, Experiment, ExperimentExperimenter, Experimenter WHERE (Array.AID = ExptArray.AID AND ExptArray.EID = Experiment.EID AND Experiment.EID = ExperimentExperimenter.EID AND ExperimentExperimenter.ExperimenterID = Experimenter.ExperimenterID AND Experimenter.Institution = 'UNO');
SELECT Experimenter.Name, Experimenter.Email, Experimenter.Dept FROM Experimenter, ExperimentExperimenter, Experiment, ExptArray, Array WHERE (Experimenter.ExperimenterID = ExperimentExperimenter.ExperimenterID AND ExperimentExperimenter.EID = Experiment.EID AND Experiment.EID = ExptArray.EID AND ExptArray.AID = Array.AID AND Array.AID != 'A01');
SELECT DISTINCT Experimenter.ExperimenterID FROM Experimenter, ExperimentExperimenter, Experiment, ExptArray, Array, ExptSample, Sample WHERE ((Experimenter.ExperimenterID = ExperimentExperimenter.ExperimenterID AND ExperimentExperimenter.EID = Experiment.EID AND Experiment.EID = ExptArray.EID AND ExptArray.AID = Array.AID AND Array.AID = 'A01') OR (Experimenter.ExperimenterID = ExperimentExperimenter.ExperimenterID AND ExperimentExperimenter.EID = Experiment.EID AND Experiment.EID = ExptSample.EID AND ExptSample.SID = Sample.SID AND Sample.SID = 'S01'));
SELECT DISTINCT Experimenter.ExperimenterID FROM Experimenter, ExperimentExperimenter, Experiment, ExptArray, Array, ExptSample, Sample WHERE ((Experimenter.ExperimenterID = ExperimentExperimenter.ExperimenterID AND ExperimentExperimenter.EID = Experiment.EID AND Experiment.EID = ExptArray.EID AND ExptArray.AID = Array.AID AND Array.AID = 'A01') AND NOT (Experimenter.ExperimenterID = ExperimentExperimenter.ExperimenterID AND ExperimentExperimenter.EID = Experiment.EID AND Experiment.EID = ExptSample.EID AND ExptSample.SID = Sample.SID AND Sample.SID = 'S01'));
SELECT DISTINCT Experimenter.ExperimenterID FROM Experimenter, ExperimentExperimenter, Experiment, ExptSample, Sample WHERE Experimenter.ExperimenterID IN (SELECT Experimenter.ExperimenterID FROM Experimenter, ExperimentExperimenter, Experiment, ExptSample, Sample WHERE (Experimenter.ExperimenterID = ExperimentExperimenter.ExperimenterID AND ExperimentExperimenter.EID = Experiment.EID AND Experiment.EID = ExptSample.EID AND ExptSample.SID = Sample.SID  AND Sample.SID = 'S01')) AND Experimenter.ExperimenterID IN (SELECT Experimenter.ExperimenterID FROM Experimenter, ExperimentExperimenter, Experiment, ExptSample, Sample WHERE (Experimenter.ExperimenterID = ExperimentExperimenter.ExperimenterID AND ExperimentExperimenter.EID = Experiment.EID AND Experiment.EID = ExptSample.EID AND ExptSample.SID = Sample.SID AND Sample.SID = 'S02'));
